<div class="mat-elevation-z8">
    <table mat-table [dataSource]="tasks" class="mat-table">
        <!-- Definindo as colunas da tabela -->
        <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef class="custom-header">ID</th>
            <td mat-cell *matCellDef="let task">{{ task.id }}</td>
        </ng-container>

        <ng-container matColumnDef="titulo">
            <th mat-header-cell *matHeaderCellDef class="custom-header">Título</th>
            <td mat-cell *matCellDef="let task">{{ task.titulo }}</td>
        </ng-container>

        <ng-container matColumnDef="descricao">
            <th mat-header-cell *matHeaderCellDef class="custom-header">Descrição</th>
            <td mat-cell *matCellDef="let task">{{ task.descricao }}</td>
        </ng-container>

        <ng-container matColumnDef="dt_criacao">
            <th mat-header-cell *matHeaderCellDef class="custom-header">Data de Criação</th>
            <td mat-cell *matCellDef="let task">{{ task.dt_Criacao  }}</td>
        </ng-container>

        <ng-container matColumnDef="dt_conclusao">
            <th mat-header-cell *matHeaderCellDef class="custom-header">Data de Conclusão</th>
            <!-- <td mat-cell *matCellDef="let task">{{ task.dt_conclusao ? (task.dt_conclusao | date: 'dd/MM/yyyy') : '-' }}</td> -->
            <td mat-cell *matCellDef="let task">{{ task.dt_Conclusao }}</td> 
        </ng-container>

        <ng-container matColumnDef="dt_limite">
            <th mat-header-cell *matHeaderCellDef class="custom-header">Data Limite</th>
            <td mat-cell *matCellDef="let task">{{ task.dt_limite}}</td>
        </ng-container>

        <ng-container matColumnDef="prioridade">
            <th mat-header-cell *matHeaderCellDef class="custom-header">Prioridade</th>
            <td mat-cell *matCellDef="let task">
              <div [ngClass]="{
                'prioridade-alta': task.prioridade === 'ALTA',
                'prioridade-media': task.prioridade === 'MEDIA',
                'prioridade-baixa': task.prioridade === 'BAIXA'
              }">{{ task.prioridade }}</div>
            </td>
          </ng-container>

        <ng-container matColumnDef="responsavel">
            <th mat-header-cell *matHeaderCellDef class="custom-header">Responsável</th>
            <td mat-cell *matCellDef="let task">{{ task.responsavel }}</td>
        </ng-container>

        <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef class="custom-header">Status</th>
            <td mat-cell *matCellDef="let task">{{ task.status }}</td>
        </ng-container>

        <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef class="custom-header-action">Ações</th>
            <td mat-cell *matCellDef="let row">
                <div class="custom-action d-flex">
                    <div class="mr-3" style="margin-right: 15px;" (click)="alterarTarefa(row)">
                        <mat-icon>edit</mat-icon>
                    </div>
                    <div class="mr-3" style="margin-right: 15px;" (click)="openDialogDelete(row)">
                        <mat-icon>delete</mat-icon>
                    </div>
                    <div class="mr-3" style="margin-right: 15px;" (click)="openDialogSimNao(row)">
                        <mat-icon>done</mat-icon>
                    </div>
                </div>
            </td>
        </ng-container>

        <!-- Definindo a ordem das colunas -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns; let even = even" class="custom-row"
            [class.custom-row-even]="even"></tr>
    </table>
    <mat-paginator [length]="totalElements" [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions"></mat-paginator>
</div>